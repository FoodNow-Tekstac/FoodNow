<div class="mb-12 rounded-lg overflow-hidden h-64 relative bg-gray-800">
    <div class="absolute inset-0 flex items-center justify-center text-center p-8">
        <div>
            <h2 class="text-4xl font-extrabold text-white">Special Offers Today!</h2>
            <p class="mt-2 text-lg text-text-muted">Get up to 50% off on your first order from select restaurants.</p>
        </div>
    </div>
</div>

<div class="mb-8 grid grid-cols-1 md:grid-cols-4 gap-4">
    <input type="text" [ngModel]="searchTerm()" (ngModelChange)="searchTerm.set($event)" class="form-input md:col-span-2" placeholder="Search for restaurants or food items...">
    
    <select [ngModel]="dietaryFilter()" (ngModelChange)="dietaryFilter.set($event)" class="form-input">
        <option value="ALL">All Dietary Types</option>
        <option value="VEG">Veg</option>
        <option value="NON_VEG">Non-Veg</option>
        <option value="VEGAN">Vegan</option>
    </select>
    
    <select [ngModel]="categoryFilter()" (ngModelChange)="categoryFilter.set($event)" class="form-input">
        <option value="ALL">All Categories</option>
        <option value="STARTER">Starters</option>
        <option value="MAIN_COURSE">Main Course</option>
        <option value="DESSERT">Desserts</option>
        <option value="DRINK">Drinks</option>
        <option value="SIDE">Sides</option>
    </select>
</div>

<div id="restaurants-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
    @for (restaurant of filteredRestaurants(); track restaurant.id) {
        <div class="bg-surface rounded-lg shadow-md hover:shadow-primary/20 hover:-translate-y-1 transition-all duration-300 overflow-hidden flex flex-col">
            <a [routerLink]="['/customer/restaurant', restaurant.id]" class="block">
<img [src]="(restaurant.imageUrl | fullUrl) || 'https://placehold.co/600x400/1f2937/9ca3af?text=FoodNow'" [alt]="restaurant.name" class="h-40 w-full object-cover">                <div class="p-4">
                    <h3 class="text-xl font-bold text-primary">{{ restaurant.name }}</h3>
                    <p class="text-text-muted mt-1">{{ restaurant.address }}</p>
                </div>
            </a>
            
            @if (restaurant.matchingItems && restaurant.matchingItems.length > 0) {
                <div class="bg-gray-800 p-4 mt-auto">
                    <h4 class="font-semibold text-sm mb-2 text-primary">Matching Items:</h4>
                    <ul class="text-sm space-y-1">
                        @for(item of restaurant.matchingItems; track item.id) {
                            <li class="text-text-muted">{{ item.name }} - â‚¹{{ item.price.toFixed(2) }}</li>
                        }
                    </ul>
                </div>
            }
            </div>
    } @empty {
        <p class="text-gray-400 col-span-full text-center">No restaurants match your search.</p>
    }
</div>